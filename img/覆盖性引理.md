**结论**：在只用一个移位 $s=0$、窗口族

$$
W(b)=[\,b\tau,\,(b+2)\tau)\quad(b\in\mathbb{Z})
$$

且步长为 $\tau$ 的“相邻双桶”方案下，**任意**在第 1 维跨度 $\le \tau$ 的点集，都必然**同时包含于至少一个**窗口 $W(b)$ 中。下面给出严格证明，并顺带证明“按规则把每个点分配到 $W(b(q)-1)$ 与 $W(b(q))$（其中 $b(q)=\lfloor q_1/\tau\rfloor$）”时，这些点也都会被**分配到同一个**窗口 $W(b)$ 里。

---

## 覆盖性引理（单移位、双桶）

**引理（覆盖）.** 令 $\tau>0$，定义窗口族 $W(b)=[b\tau,(b+2)\tau)$（左闭右开），步长为 $\tau$。对任意有限集合
$X=\{x_1,\dots,x_m\}\subset\mathbb{R}$（这里 $x_i$ 表示第 1 维坐标），若

$$
\operatorname{diam}(X):=\max X-\min X\ \le\ \tau,
$$

则存在 $b\in\mathbb{Z}$ 使得 $X\subseteq W(b)$。

**证明.** 设

$$
a=\min X,\qquad z=\max X,\qquad \Delta=z-a\le\tau.
$$

取

$$
b=\big\lfloor a/\tau\big\rfloor.
$$

于是 $b\tau\le a< (b+1)\tau$（因为我们用的是“左闭右开”的标准取整区间）。由 $\Delta\le\tau$ 得

$$
z\ \le\ a+\tau\ <\ (b+1)\tau+\tau\ =\ (b+2)\tau.
$$

又因为 $a\ge b\tau$，故

$$
[a,z]\ \subseteq\ [\,b\tau,\ (b+2)\tau\,)\ =\ W(b).
$$

于是 $X\subseteq W(b)$。证毕。 $\square$

> **边界讨论（不丢分的细节）**
> 若 $a$ 恰好是 $(b+1)\tau$ 的整数倍，则 $\lfloor a/\tau\rfloor$ 会取到 $b+1$，仍然有
> $a\in[(b+1)\tau,(b+2)\tau)$，而 $z\le a+\tau\le (b+2)\tau$ 并且严格小于 $(b+3)\tau$，
> 故 $[a,z]\subseteq W(b+1)$ 依旧成立。半开区间的右端点不会造成覆盖失败。

---

## 分配一致性推论（实现层面“同时出现在同一窗”）

实际实现中，你把每个点 $q$ 分配给两个窗口

$$
b(q)=\big\lfloor q_1/\tau\big\rfloor,\qquad
q\mapsto W\big(b(q)-1\big)\ \text{与}\ W\big(b(q)\big).
$$

**推论.** 在上引理中构造的那个 $b=\lfloor a/\tau\rfloor$ 满足：对任意 $q\in X$，点 $q$ 一定**被分配到**窗口 $W(b)$。

**证明（按 $q_1$ 所在的 $\tau$-格子讨论）**：

* 若 $q_1\in [b\tau,(b+1)\tau)$，则 $b(q)=b$。按分配规则 $q$ 被放入 $W(b-1)$ 和 **$W(b)$**。
* 若 $q_1\in [(b+1)\tau,(b+2)\tau)$，则 $b(q)=b+1$。按分配规则 $q$ 被放入 **$W(b)$** 和 $W(b+1)$。
  两种情形都包含 $W(b)$。证毕。 $\square$

> 这说明：不仅从“几何包含”意义上 $X\subseteq W(b)$；按你的“每点两窗”的具体分桶实现，**所有这些点也确实会被放进同一个公共窗口 $W(b)$**，从而该窗口能够“同时看到”这组点做后续处理。

---

## 备注：为什么很多文献用“两移位”？

* **覆盖角度**：像你现在这样用**单移位 $s=0$+ 双桶（长度 $2\tau$、步长 $\tau$**），已经足以保证“所有跨度 $\le\tau$ 的 1D 片段都被某个窗口完全覆盖”。因此，**仅从覆盖性来说，不需要第二个移位**。
* **工程/去重角度**：有时引入第二个移位（比如 $0$ 与 $\tau/2$）是为了

  1. 配合不同的 home‑window 规则让边界 tie‑break 更均匀；
  2. 或者在只用**单桶窗口（长度 $\tau$）**而非“双桶”时，仍保证覆盖（这时就确实需要两移位来避免跨桶裂解）。
     你现在采用**双桶**，所以覆盖无虞；去重只需维持之前的 **home‑window** 唯一归属（例如在所有能同时容纳 $[a,z]$ 的窗口中取**左端点最小**者）即可。

---

## 一行推广（可选）

若把窗口推广为 $W_r(b)=[b\tau,(b+r)\tau)$（长度 $r\tau$、步长 $\tau$），则完全同样的证明给出：**任意长度 $\le (r-1)\tau$** 的 1D 片段都被某个 $W_r(b)$ 覆盖。你的情形是 $r=2$。

---

**小结**：
用 **单移位 $s=0$**、**相邻双桶 $W(b)=[b\tau,(b+2)\tau)$** 的方案，覆盖性成立且分配实现与之吻合——凡第 1 维跨度 $\le\tau$ 的点组，都会“同时出现在”至少一个公共窗口里，并且这组点在你的“两窗分配”规则下都确实被分到该窗口。